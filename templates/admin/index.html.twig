{% extends 'base.html.twig' %}

{% block title %}Page Admin
{% endblock %}

{% block body %}
<div class="row">
	<div class="col-4 border-end">
		<h2>
			Toutes les catégories
		</h2>
		<hr>
		<div>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>
							Catégories
						</th>
						<th>
							Actions
						</th>
					</tr>
				</thead>
				<tbody>
					{% for category in categories %}
					<tr>
						<td>
							<a href="">{{category.name}}</a>
						</td>
						<td>
							<a class="btn btn-primary btn-sm" href="{{ path('admin_category.edit', {'id':category.id}) }}">Editer</a>
							<a class="btn btn-danger btn-sm"
								href="{{ url('admin_category.remove', {'id':category.id}) }}">Suppimer</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
			<a class="btn btn-success btn-sm" href="{{ url('admin_category.create') }}">Créer une categorie</a>
		</div>
	</div>
	<div class="col-8">
		<h2>
			Toutes les recettes
		</h2>
		<hr>
		<div>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>
							Titre
						</th>
						<th>
							Catégorie
						</th>
						<th>
							Actions
						</th>
					</tr>
				</thead>
				<tbody>
					{% for recipe in recipes %}
					<tr>
						<td>
							<a
								href="{{ url('admin_recipe.show', {'id':recipe.id, 'slug': recipe.slug, 'recipe': recipe}) }}">{{recipe.title}}</a>
						</td>
						<td>
							{{recipe.category.name | default('') }}
						</td>
						<td>
							<a class="btn btn-primary btn-sm" href="{{ path('admin_recipe.edit', {'id':recipe.id}) }}">Editer</a>
							<a class="btn btn-danger btn-sm" href="{{ url('admin_recipe.remove', {'id':recipe.id}) }}">Suppimer</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
			<a class="btn btn-success btn-sm" href="{{ url('admin_recipe.create') }}">Créer une recette</a>
		</div>
	</div>
</div>

{% endblock %}